function markdown(n){var r=/\\([\\\|`*_{}\[\]()#+\-~])/g,t=/\n *&gt; *([^]*?)(?=(\n|$){2})/g,e=/\n( *)(?:[*\-+]|((\d+)|([a-z])|[A-Z])[.)]) +([^]*?)(?=(\n|$){2})/g,u=/(^|[^A-Za-z\d\\])(([*_])|(~)|(\^)|(--)|(\+\+)|`)(\2?)([^<]*?)\2\8(?!\2)(?=\W|_|$)/g,c=/^.*\n( *\|( *\:?-+\:?-+\:? *\|)* *\n|)/,l=/.*\n/g,a=/\||(.*?[^\\])\|/g;function o(r,t){n=n.replace(r,t)}function g(n,r){return"<"+n+">"+r+"</"+n+">"}function i(n){return n.replace(u,(function(n,r,t,e,u,c,l,a,o,f){return r+g(e?o?"strong":"em":u?o?"s":"sub":c?"sup":l?"small":a?"big":"code",i(f))}))}function f(n){return n.replace(r,"$1")}var p=[],s=0;return n="\n"+n+"\n",o(/</g,"&lt;"),o(/>/g,"&gt;"),o(/\t|\r|\uf8ff/g,"  "),n=function n(r){return r.replace(t,(function(r,t){return g("blockquote",n(i(t.replace(/^ *&gt; */gm,""))))}))}(n),o(/^([*\-=_] *){3,}$/gm,"<hr/>"),n=function n(r){return r.replace(e,(function(r,t,e,u,c,l){var a=g("li",i(l.split(RegExp("\n ?"+t+"(?:(?:\\d+|[a-zA-Z])[.)]|[*\\-+]) +","g")).map(n).join("</li><li>")));return"\n"+(e?'<ol start="'+(u?e+'">':parseInt(e,36)-9+'" style="list-style-type:'+(c?"low":"upp")+'er-alpha">')+a+"</ol>":g("ul",a))}))}(n),o(/<\/(ol|ul)>\n\n<\1>/g,""),o(/\n((```|~~~).*\n?([^]*?)\n?\2|((    .*?\n)+))/g,(function(n,r,t,e,u){return p[--s]=g("pre",g("code",e||u.replace(/^    /gm,""))),s+""})),o(/((!?)\[(.*?)\]\((.*?)( ".*")?\)|\\([\\`*_{}\[\]()#+\-.!~]))/g,(function(n,r,t,e,u,c,l){return p[--s]=u?t?'<img src="'+u+'" alt="'+e+'"/>':'<a href="'+u+'">'+f(i(e))+"</a>":l,s+""})),o(/\n(( *\|.*?\| *\n)+)/g,(function(n,r){var t=r.match(c)[1];return"\n"+g("table",r.replace(l,(function(n,r){return n==t?"":g("tr",n.replace(a,(function(n,e,u){return u?g(t&&!r?"th":"td",f(i(e||""))):""})))})))})),o(/(?=^|>|\n)([>\s]*?)(#{1,6}) (.*?)( #*)? *(?=\n|$)/g,(function(n,r,t,e){return r+g("h"+t.length,f(i(e)))})),o(/(?=^|>|\n)\s*\n+([^<]+?)\n+\s*(?=\n|<|$)/g,(function(n,r){return g("p",f(i(r)))})),o(/-\d+\uf8ff/g,(function(n){return p[parseInt(n)]})),n.trim()}