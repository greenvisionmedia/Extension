function dateFormat(e,t){const o=new Date(e),a=o.getMinutes(),r=o.getHours(),n=o.getDate(),d=o.getMonth()+1,l=o.getFullYear();return(t=t.replace('MM',d.toString().padStart(2,'0'))).indexOf('yyyy')>-1?t=t.replace('yyyy',l.toString()):t.indexOf('yy')>-1&&(t=t.replace('yy',l.toString().substr(2,2))),t=(t=(t=t.replace('dd',n.toString().padStart(2,'0'))).replace('hh',r.toString().padStart(2,'0'))).replace('mm',a.toString().padStart(2,'0'))}chrome.runtime.onInstalled.addListener((()=>{chrome.storage.local.set({PROJECT:'hello-world',DOMAIN:'hello.world',SITE_CODE:'hw',SCRIPTS:['hello','world'],STAGING:!0,LOGIN_STATE:!1,CONFIG_STATE:!1})})),chrome.runtime.onConnect.addListener((e=>{'download-port'==e.name&&e.onMessage.addListener((async t=>{const o=await chrome.storage.local.get('PROJECT');chrome.downloads.download({url:t.url,filename:`${o.PROJECT}-${dateFormat(Date.now(),'MM-dd-yyyy-hh-mm')}`}).then((()=>{e.postMessage({response:'pm-downloaded'})}))})),'delete-port'==e.name&&e.onMessage.addListener((async()=>{let t=await chrome.downloads.search({limit:1,orderBy:['-startTime']});chrome.downloads.removeFile(t[0].id).then((()=>{e.postMessage({response:'pm-deleted'})}))}))})),chrome.downloads.onCreated.addListener((e=>{chrome.storage.local.set({FILE_SIZE:e.fileSize})}));